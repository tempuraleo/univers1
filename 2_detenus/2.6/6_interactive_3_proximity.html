<!-- ref : https://aframe.io/docs/1.1.0/components/animation.html -->
<!-- sources : https://aframe-course.glitch.me/1200-animations.html -->
<!-- Interactives animations -->
<!DOCTYPE html>
<html>

<head>
    <title>Animations - 09 - Events - Proximity</title>
    <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-environment-component/dist/aframe-environment-component.min.js"></script>
    <script src="https://unpkg.com/aframe-event-set-component@^4.0.0/dist/aframe-event-set-component.min.js"></script>
    <script src="https://unpkg.com/aframe-proxemic-component@0.0.17/dist/aframe-proxemic-component.min.js"></script>
</head>

<body>
    <a-scene background="color:lightblue" cursor="rayOrigin: mouse">
        <a-assets>
            <a-asset-item id="house-obj" crossorigin="anonymous"
                src="https://raw.githubusercontent.com/jorgecardoso/aframe-usj-models/master/house/house.obj">
            </a-asset-item>

            <a-asset-item id="house-mtl" crossorigin="anonymous"
                src="https://raw.githubusercontent.com/jorgecardoso/aframe-usj-models/master/house/house.mtl">
            </a-asset-item>
            <a-asset-item id="antoine4" src="models/antoine4.glb"></a-asset-item>
            <a-asset-item id="antoine5" src="models/antoine5.glb"></a-asset-item>
            <a-asset-item id="maison" src="models/cellule1.glb"></a-asset-item>
        </a-assets>

        <a-obj-model src="#house-obj" mtl="#house-mtl" scale="0.2 0.2 0.2" position="0 0 -8"></a-obj-model>

        <a-entity id="model3D" gltf-model="#antoine4" position="-0.783 1.183 -4.029" scale="2 2 2" proximity-sensor="distance: 2"
            animation__open="property: visible; to: false; startEvents: proximityenter"
            animation__close="property: visible; to: true; startEvents: proximityexit">

        </a-entity>

        <a-entity id="model3D" gltf-model="#antoine5" position="-0.783 1.183 -4.029" scale="2 2 2" proximity-sensor="distance: 2"
            animation__open="property: visible; to: false; startEvents: proximityenter"
            animation__close="property: visible; to: false; startEvents: proximityexit">
        </a-entity>

        <a-camera>
            <a-cursor objects="#model3D"></a-cursor>
        </a-camera>
    </a-scene>
</body>

</html>
